@using PachiArmy.Components
@using PachiArmy.Scripts;

<DropContainer TItem="Placeable" Items="Placeables" ItemsFilter="@((item, dropZone) => item.Position.ToString() == dropZone)" ItemDropped="@ObjectMoved">
    <ChildContent>
        <Container TextAlignment="TextAlignment.Center" Background="Background.Light">
            <Row Padding="Padding.Is2">
                <Column ColumnSize="ColumnSize.Is1">
                    <Div class="clicky-card">
                        <Card Padding="Padding.Is2" Margin="Margin.Is1">
                            <CardBody>
                                <Text>❌</Text>
                            </CardBody>
                        </Card>
                    </Div>
                </Column>
                <Column ColumnSize="ColumnSize.Is10">
                    <Div Padding="Padding.Is2" />
                    <Text TextSize="TextSize.Heading1" Padding="Padding.Is2">CatiArmi</Text>
                </Column>
                <Column ColumnSize="ColumnSize.Is1">

                </Column>
            </Row>
            <Row>
                <Column ColumnSize="ColumnSize.Is8">
                    @for (int r = 0; r < 8; r++)
                    {
                        var row = r.ToString();
                        <Div class="d-flex">
                            @for (int c = 0; c < 8; c++)
                            {
                                var col = c.ToString();
                                <DropZone Padding="Padding.Is1" TItem="Placeable" Name="@($"{row} {col}")" DropAllowed=@((item) => true) Background="Background.White" Border="Border.Is1" Height="Height.Rem(6.8)" Width="Width.Rem(6.8)" />
                            }
                        </Div>
                    }
                </Column>
                <Column ColumnSize="ColumnSize.Is4">
                    <Container TextAlignment="TextAlignment.Center" Padding="Padding.Is2">
                        @* Resources *@
                        <ResourcesPanel />

                        @* Pachi Count *@
                        <Row Padding="Padding.Is2">
                            <Row Padding="Padding.Is2">
                                <Column ColumnSize="ColumnSize.Is3">
                                    <DropZone Padding="Padding.Is1" TItem="Placeable" Name="Stored" DropAllowed=@((item) => true)>
                                        <Image Source="placeholders/chest.png" Height="Height.Rem(5)" />
                                    </DropZone>
                                </Column>
                                <Column ColumnSize="ColumnSize.Is9" TextAlignment="TextAlignment.Start">
                                    <Div Padding="Padding.Is1" />
                                    <Span>
                                        <Text Padding="Padding.Is2" VerticalAlignment="VerticalAlignment.Middle" TextSize="TextSize.Large"> </Text>
                                        <Image Source="placeholders/pachimari-idle.png" Height="Height.Rem(4)" />
                                        <Text Padding="Padding.Is2" VerticalAlignment="VerticalAlignment.Middle" TextSize="TextSize.Large"> x 5</Text>
                                    </Span>
                                </Column>
                            </Row>
                        </Row>

                        @* Store Links *@
                        <Row Padding="Padding.Is2">
                            <Text TextSize="TextSize.ExtraLarge">Store Links</Text>
                            <ShopLink StoreName="Pet Store" StoreIcon="placeholders/pachimari-idle.png" PachisToUnlock="0" />
                            <ShopLink StoreName="Candy Store" StoreIcon="placeholders/pachimari-idle.png" PachisToUnlock="20" />
                            <ShopLink StoreName="Toy Store" StoreIcon="placeholders/pachimari-idle.png" PachisToUnlock="50" />
                        </Row>

                        <Div Padding="Padding.Is2" />

                        @* Win Game Button *@
                        <Row Padding="Padding.Is2">
                            <Div Padding="Padding.Is2">
                                <Text TextSize="TextSize.Small">🔒 0/100 Pachis</Text>
                                <Div class="clicky-card-link">
                                    <Card Padding="Padding.Is2" Margin="Margin.Is1" Width="Width.Max100">
                                        <Container>
                                            <Div Padding="Padding.Is3" />
                                            <Text Padding="Padding.Is2" Margin="Margin.Is2" VerticalAlignment="VerticalAlignment.Middle" TextSize="TextSize.Large">
                                                ⭐ Take over the world ⭐
                                            </Text>
                                            <Div Padding="Padding.Is3" />
                                        </Container>
                                    </Card>
                                </Div>
                            </Div>
                        </Row>
                    </Container>
                </Column>
            </Row>
        </Container>
    </ChildContent>
    <ItemTemplate>
        <BoardPlaceable Placeable=@context />
    </ItemTemplate>
</DropContainer>
